<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>My BSLog</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.1.1/bootstrap-social.min.css" rel="stylesheet" />
</head>
<body style="padding:60px">
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="navbar-header">
        <a class="btn" href="/dash"><i class="fa fa-home fa-fw" aria-hidden="true"></i>Home</a>
        <a class="btn" href="/profile"><i class="fa fa-user-o fa-fw" aria-hidden="true"></i>Profile</a>
        <a class="btn" href="/history"><i class="fa fa-history fa-fw" aria-hidden="true"></i>My History</a>
        <a class="btn" href="/logout"><i class="fa fa-sign-out fa-fw" aria-hidden="true"></i>Logout</a>
    </div>
</nav>
<div class="row">
    <div class="col-md-4 col-md-offset-1">
        <h1 class="text-center">Enter Carbs Manually</h1>
        <form action="#" th:action="@{'/entry/'+${entry.eid}+'/addCarbs'}" th:object="${carb}" method="post">
            <div class="container mx-auto table-responsive" style="width: 400px;">
                <table class="table table-bordered table-hover">
                    <tbody>
                    <tr>
                        <td>Name</td>
                        <td><input type="text" class="form-control" th:field="*{name}"/></td>
                    </tr>
                    <tr>
                        <td>Serving Size</td>
                        <td><input type="text" class="form-control" th:field="*{servingSize}"/></td>
                    </tr>
                    <tr>
                        <td>Carbs Per Serving</td>
                        <td><div class="input-group"><input type="text" class="form-control" th:field="*{carbsPerServing}"/><div class="input-group-addon"> grams</div></div></td>
                    </tr>
                    <tr>
                        <td>Number Of Servings</td>
                        <td><input type="text" class="form-control" th:field="*{numServings}"/></td>
                    </tr>
                    <tr>
                        <td>Total Carbs</td>
                        <td><div class="input-group"><input type="text" class="form-control" th:field="*{totalCarbs}"/><div class="input-group-addon"> grams</div></div></td>
                    </tr>
                    <tr>
                        <td colspan="2" class="text-center"><input class="btn btn-warning" type="submit" value="Add Carb"/></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
    <div class="col-md-2">
        <h1 class="text-center">Or</h1>
    </div>
    <div class="col-md-4">
        <h1 class="text-center">Search Food Database</h1>
        <form action="#" th:action="@{'/entry/'+${entry.eid}+'/search'}" method="post">
            <div class="container mx-auto table-responsive" style="width: 500px;">
                <table class="table table-bordered table-hover">
                    <tbody>
                    <tr>
                        <td>Food Description</td>
                        <td><input type="text" class="form-control" name="query"/></td>
                    </tr>
                    <tr>
                        <td colspan="2" class="text-center"><input class="btn btn-warning" type="submit" value="Search"/></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
</div>
<br/>
<form action="#" th:action="@{'/entry/'+${entry.eid}+'/addInsulin'}" method="post">
    <div class="row">
        <div class="col-md-4 text-center"></div>
        <div class="col-md-4 text-center">
            <input class="btn btn-primary btn-info" type="submit" value="Add Insulin"/>
            <a th:href="'/viewEntry/'+${entry.eid}"><input class="btn btn-default" type="button" value="Back"/></a>
            <a href="/dash"><input class="btn btn-primary btn-success" type="button" value="Done"/></a>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 text-center"></div>
        <div class="col-md-4 text-center">
            <br/>
            <p class="alert alert-warning" role="alert">Please set your Insulin to Carb Ratio and Insulin Sensitivity Ratio in your profile before calculating insulin</p>
        </div>
    </div>
</form>

<br/>
<form action="#" th:action="@{'/entry/'+${entry.eid}+'/deleteCarbs'}" method="post">
    <h2 class="text-center">Carbohydrates in Entry</h2>
    <div class="container mx-auto" style="width: 700px;">
        <table class="table table-bordered table-hover">
            <thead>
            <tr>
                <th></th>
                <th class="text-center">Name</th>
                <th class="text-center">Serving Size</th>
                <th class="text-center">Carbs Per Serving</th>
                <th class="text-center">Number Of Servings</th>
                <th class="text-center">Total Carbs</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="carb : ${carbList}">
                <td><input type="checkbox" name="deleteMe" th:value="${carb.cid}"/></td>
                <td th:text="${carb.name}"></td>
                <td th:text="${carb.servingSize}"></td>
                <td th:text="${carb.carbsPerServing}"></td>
                <td th:text="${carb.numServings}"></td>
                <td th:text="${carb.totalCarbs}"></td>
            </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="col-md-4 text-center"></div>
            <div class="col-md-4 text-center">
                <input class="btn btn-primary btn-danger" type="submit" value="Delete Checked Carbs"
                       onclick="return confirm('Are you sure you want to delete selected carbs?');"/>
            </div>
        </div>
    </div>
</form>
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
        integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
</body>
</html>
